<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Trova Contatti da Sito</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 50px auto; }
    input, button { padding: 10px; width: 100%; margin-top: 10px; }
    #risultati { margin-top: 20px; font-weight: bold; white-space: pre-line; }
  </style>
</head>
<body>
  <h2>Trova email e numero di telefono da un sito web</h2>
  <input type="text" id="websiteUrl" placeholder="Inserisci l'URL del sito (es: https://esempio.it)">
  <button onclick="trovaContatti()">Cerca contatti</button>
  <div id="risultati"></div>

  <script>
    async function trovaContatti() {
      const url = document.getElementById("websiteUrl").value;
      const risultato = document.getElementById("risultati");
      risultato.textContent = "Ricerca in corso...";

      try {
        const response = await fetch("https://api.allorigins.win/raw?url=" + encodeURIComponent(url));
        const text = await response.text();

        const emailMatch = text.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-z]{2,}/g);
        const telefonoMatch = text.match(/(?:\+39\s?)?\(?\d{2,4}\)?[\s.-]?\d{5,8}[\s.-]?\d{0,4}/g);

        const email = emailMatch ? emailMatch[0] : "Email non trovata ðŸ˜•";
        const telefono = telefonoMatch ? telefonoMatch[0] : "Telefono non trovato ðŸ˜•";

        risultato.textContent = `Email trovata: ${email}\nTelefono trovato: ${telefono}`;
      } catch (error) {
        risultato.textContent = "Errore durante la ricerca. Controlla l'URL.";
      }
    }
  </script>
</body>
</html>
